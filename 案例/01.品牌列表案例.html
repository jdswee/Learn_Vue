<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <script src="../lib/vue.js"></script>
  <link rel="stylesheet" href="../lib/bootstrap-3.3.7-dist/css/bootstrap.css">
</head>
<body>
  <div id="app">
    
    
    <div class="panel panel-primary">
        <div class="panel-heading">
          <h3 class="panel-title">添加品牌</h3>
        </div>
        <div class="panel-body form-inline">
          <label>
            Id:
            <input class="form-control" type="text" v-model="id">            
          </label>
          <label>
            Name:
            <input class="form-control" type="text" v-model="name">            
          </label>
          <input type="button" value="添加" class="btn btn-primary" @click="addItem">
          <label>
<<<<<<< HEAD
            搜索名称关键字:
            <input type="text" class="form-control" v-model="keywords">
=======
            搜索关键字:
            <input class="form-control" type="text" v-model="keywords">
>>>>>>> 7554697946be278a643556d6b0380a6718fa5df5
          </label>
        </div>
    </div>
    

    <table class="table table-bordered table-hover table-striped">
      <thead>
        <tr>
          <th>Id</th>
          <th>Name</th>
          <th>Ctime</th>
          <th>Operation</th>
        </tr>
      </thead>
      <tbody>
        <tr v-for="(item, index) in search(keywords)" :key="item.index">
          <td>{{ item.id }}</td>
          <td>{{ item.name }}</td>
          <td>{{ item.ctime }}</td>
          <td><a href="#" @click.prevent="deleteItem(index)">Delete</a></td>
        </tr>
      </tbody>
    </table>
  
  </div>
  <script>
    var vm = new Vue({
      el: "#app",
      data: {
        id: "",
        name: "",
        keywords: "",
        list: [
          {id: 1, name: "BMW", ctime: new Date()},
          {id: 2, name: "Benz", ctime: new Date()}
        ]
      },
      methods: {
        addItem() {
          this.list.push({id: this.id, name: this.name, ctime: new Date()})
          this.id = this.name = ""
        },
        deleteItem(index) {
          this.list.splice(index, 1)
        },
        // 搜索关键字
        search(keywords) {
          let newList = this.list.filter(item => {
            // item.name.indexOf(keywords) != -1
            if (item.name.includes(keywords)) {
              return item
            }
          })
          return newList
        }
      }
    })
  </script>
</body>
</html>